2025-07-17 05:22:27 | >> 표준 출력 및 오류를 로그 파일로 리디렉션 시작
2025-07-17 05:22:27 | ============================================================
2025-07-17 05:22:27 | >> [price_prediction8] 아파트 가격 예측 모델링 시작
2025-07-17 05:22:27 | ============================================================
2025-07-17 05:22:27 | >> [1단계 완료] 라이브러리, 경로, 로거 초기화 및 시드 고정 성공!
2025-07-17 05:22:27 | >> [2단계 시작] 데이터 로드를 시작합니다.
2025-07-17 05:22:29 | >> 원본 데이터 Shape - Train: (1110101, 32), Test: (9272, 32)
2025-07-17 05:22:29 | >> Train/Test 병합 후 Shape: (1119373, 32)
2025-07-17 05:22:29 | >> [2단계 완료] 데이터 로드 성공.
2025-07-17 05:22:29 | >> [3단계 시작] 피처 엔지니어링을 시작합니다.
2025-07-17 05:22:29 | >> 4.1. 날짜/기본/주기성 피처 생성 완료.
2025-07-17 05:22:29 | >> 4.2. 교통 가중합 피처 생성 완료.
2025-07-17 05:22:34 | >> 4.3. K-Means 군집화 피처 생성 완료.
2025-07-17 05:22:35 | >> 4.4. [개선] 면적당 가격 기반 통계 피처 생성 완료.
2025-07-17 05:22:35 | >> [추가] K-Means 군집 기반 통계 피처 생성 완료.
2025-07-17 05:22:35 | >> 4.5. 상호작용 피처 생성 완료.
2025-07-17 05:22:35 | >> 인코딩 대상 범주형 피처: ['계약일자', '자치구', '법정동', '브랜드등급']
2025-07-17 05:22:35 | >> 결측치 처리 전, NA 개수: 7835611
2025-07-17 05:22:35 | >> 결측치 처리 후, NA 개수: 0
2025-07-17 05:22:35 | >> 최종 피처 수: 47
2025-07-17 05:22:35 | >> 4.6. 범주형 인코딩 및 최종 데이터 분리 완료.
2025-07-17 05:22:35 | >> [3단계 완료] 피처 엔지니어링 성공.
2025-07-17 05:22:35 | >> [4단계 시작] 상위 28개 피처를 선택합니다.
2025-07-17 05:22:37 | >> 피처 중요도 :
2025-07-17 05:22:37 | feature  importance
14              좌표Y         386
32             건물나이         351
13              좌표X         298
0              계약일자         259
6              전용면적         202
44          면적_x_나이         190
4               법정동         172
12          아파트이름길이         112
20   반경_1km_버스정류장_수         112
24          성비(남/여)         111
15          지하철최단거리          82
19           버스최단거리          72
23             총인구수          70
3               자치구          66
10               연식          61
45           면적_x_층          58
36             가중버스          55
35            가중지하철          52
46          강남_x_면적          46
21  반경_500m_버스정류장_수          43
28     loanrate_12m          31
11            브랜드등급          31
22  반경_300m_버스정류장_수          22
16    반경_1km_지하철역_수          18
5            강남3구여부          17
9            사용허가여부          17
37            아파트군집          13
17   반경_500m_지하철역_수          13
26      loanrate_3m           7
27      loanrate_6m           7
7                 층           6
8            홈페이지유무           6
1              계약년도           6
25      loanrate_1m           5
33          계약월_sin           2
18   반경_300m_지하철역_수           1
43    군집별_std_면적당가격           0
2               계약월           0
41     구별_std_면적당가격           0
42     군집별_평균_면적당가격           0
34          계약월_cos           0
40      구별_평균_면적당가격           0
39     동별_std_면적당가격           0
38      동별_평균_면적당가격           0
31              계약년           0
29           isTest           0
30           target           0
2025-07-17 05:22:37 | >> 피처 선택 완료. 선택된 피처 수: 28
2025-07-17 05:22:37 | >> 총 47개 중 28개 선택, 19개 제외.
2025-07-17 05:22:37 | >> 선택된 피처 목록 : ['좌표Y', '건물나이', '좌표X', '계약일자', '전용면적', '면적_x_나이', '법정동', '아파트이름길이', '반경_1km_버스정류장_수', '성비(남/여)', '지하철최단거리', '버스최단거리', '총인구수', '자치구', '연식', '면적_x_층', '가중버스', '가중지하철', '강남_x_면적', '반경_500m_버스정류장_수', 'loanrate_12m', '브랜드등급', '반경_300m_버스정류장_수', '반경_1km_지하철역_수', '강남3구여부', '사용허가여부', '아파트군집', '반경_500m_지하철역_수']
2025-07-17 05:22:37 | >> 제외된 피처 목록 : ['계약년도', '계약월', '층', '홈페이지유무', '반경_300m_지하철역_수', 'loanrate_1m', 'loanrate_3m', 'loanrate_6m', 'isTest', 'target', '계약년', '계약월_sin', '계약월_cos', '동별_평균_면적당가격', '동별_std_면적당가격', '구별_평균_면적당가격', '구별_std_면적당가격', '군집별_평균_면적당가격', '군집별_std_면적당가격']
2025-07-17 05:22:37 | >> [4단계 완료] 피처 선택 성공.
2025-07-17 05:22:37 | >> [5단계 시작] Optuna 최적화를 시작합니다. (탐색 횟수: 30)
2025-07-17 05:22:37 | >> Optuna용 데이터 분할 - Train: (888080, 28), Validation: (222021, 28)
2025-07-17 05:25:10 | Trial 0 | RMSE: 0.18425 | Params: {'learning_rate': 0.01684076219233524, 'feature_fraction': 0.8734476412937916, 'bagging_fraction': 0.7806832693310193, 'bagging_freq': 7, 'num_leaves': 77, 'max_depth': 11, 'min_child_samples': 26}
2025-07-17 05:27:28 | Trial 1 | RMSE: 0.17934 | Params: {'learning_rate': 0.04367265151133041, 'feature_fraction': 0.7800141666533922, 'bagging_fraction': 0.9285179893920505, 'bagging_freq': 7, 'num_leaves': 95, 'max_depth': 17, 'min_child_samples': 15}
2025-07-17 05:29:21 | Trial 2 | RMSE: 0.19826 | Params: {'learning_rate': 0.014440035382492566, 'feature_fraction': 0.7306237287038573, 'bagging_fraction': 0.8091742557492305, 'bagging_freq': 6, 'num_leaves': 38, 'max_depth': 11, 'min_child_samples': 49}
2025-07-17 05:31:35 | Trial 3 | RMSE: 0.19652 | Params: {'learning_rate': 0.013591006558511079, 'feature_fraction': 0.8642899321774475, 'bagging_fraction': 0.9144273334172314, 'bagging_freq': 3, 'num_leaves': 45, 'max_depth': 13, 'min_child_samples': 44}
2025-07-17 05:34:19 | Trial 4 | RMSE: 0.18253 | Params: {'learning_rate': 0.03395880938326898, 'feature_fraction': 0.7440403359622316, 'bagging_fraction': 0.9022467267922287, 'bagging_freq': 3, 'num_leaves': 51, 'max_depth': 10, 'min_child_samples': 23}
2025-07-17 05:36:53 | Trial 5 | RMSE: 0.17780 | Params: {'learning_rate': 0.0497040287298254, 'feature_fraction': 0.9150429052260718, 'bagging_fraction': 0.720381833007036, 'bagging_freq': 5, 'num_leaves': 54, 'max_depth': 13, 'min_child_samples': 25}
2025-07-17 05:39:49 | Trial 6 | RMSE: 0.18042 | Params: {'learning_rate': 0.04141443873167042, 'feature_fraction': 0.8659500201303733, 'bagging_fraction': 0.9400402166804767, 'bagging_freq': 3, 'num_leaves': 45, 'max_depth': 20, 'min_child_samples': 46}
2025-07-17 05:42:38 | Trial 7 | RMSE: 0.18954 | Params: {'learning_rate': 0.012670264868614764, 'feature_fraction': 0.7713964668521474, 'bagging_fraction': 0.9752850371137767, 'bagging_freq': 2, 'num_leaves': 82, 'max_depth': 9, 'min_child_samples': 10}
2025-07-17 05:45:37 | Trial 8 | RMSE: 0.17961 | Params: {'learning_rate': 0.02161066693392802, 'feature_fraction': 0.7775892347203349, 'bagging_fraction': 0.7454369527685831, 'bagging_freq': 2, 'num_leaves': 93, 'max_depth': 17, 'min_child_samples': 35}
2025-07-17 05:47:45 | Trial 9 | RMSE: 0.17850 | Params: {'learning_rate': 0.04299943949544395, 'feature_fraction': 0.8707101287181722, 'bagging_fraction': 0.9210335744569926, 'bagging_freq': 6, 'num_leaves': 96, 'max_depth': 16, 'min_child_samples': 43}
2025-07-17 05:50:14 | Trial 10 | RMSE: 0.17610 | Params: {'learning_rate': 0.04857813599911479, 'feature_fraction': 0.9730656279190857, 'bagging_fraction': 0.7313191544056851, 'bagging_freq': 5, 'num_leaves': 64, 'max_depth': 7, 'min_child_samples': 34}
2025-07-17 05:52:39 | Trial 11 | RMSE: 0.17614 | Params: {'learning_rate': 0.04818081967168347, 'feature_fraction': 0.9706419429386749, 'bagging_fraction': 0.7009495036574562, 'bagging_freq': 5, 'num_leaves': 64, 'max_depth': 7, 'min_child_samples': 34}
2025-07-17 05:54:35 | Trial 12 | RMSE: 0.17610 | Params: {'learning_rate': 0.04896772087224446, 'feature_fraction': 0.9757045255643368, 'bagging_fraction': 0.7019348853120446, 'bagging_freq': 5, 'num_leaves': 66, 'max_depth': 7, 'min_child_samples': 34}
2025-07-17 05:57:33 | Trial 13 | RMSE: 0.17654 | Params: {'learning_rate': 0.034717336920814384, 'feature_fraction': 0.9967416334272389, 'bagging_fraction': 0.8439573769670888, 'bagging_freq': 5, 'num_leaves': 67, 'max_depth': 7, 'min_child_samples': 37}
2025-07-17 06:00:07 | Trial 14 | RMSE: 0.18163 | Params: {'learning_rate': 0.026826242752391264, 'feature_fraction': 0.938228412278592, 'bagging_fraction': 0.7534671004144546, 'bagging_freq': 4, 'num_leaves': 64, 'max_depth': 8, 'min_child_samples': 30}
2025-07-17 06:02:26 | Trial 15 | RMSE: 0.17949 | Params: {'learning_rate': 0.037831440196637464, 'feature_fraction': 0.9313743754717041, 'bagging_fraction': 0.807619685522619, 'bagging_freq': 4, 'num_leaves': 75, 'max_depth': 9, 'min_child_samples': 40}
2025-07-17 06:04:54 | Trial 16 | RMSE: 0.17894 | Params: {'learning_rate': 0.028194572633014423, 'feature_fraction': 0.9955317185070467, 'bagging_fraction': 0.7395803858362333, 'bagging_freq': 6, 'num_leaves': 59, 'max_depth': 7, 'min_child_samples': 31}
2025-07-17 06:07:26 | Trial 17 | RMSE: 0.18447 | Params: {'learning_rate': 0.04621970808587107, 'feature_fraction': 0.8237178304719073, 'bagging_fraction': 0.8672992010099311, 'bagging_freq': 5, 'num_leaves': 30, 'max_depth': 11, 'min_child_samples': 20}
2025-07-17 06:10:29 | Trial 18 | RMSE: 0.17578 | Params: {'learning_rate': 0.03912281643127611, 'feature_fraction': 0.9591454816228409, 'bagging_fraction': 0.7741118105957061, 'bagging_freq': 1, 'num_leaves': 71, 'max_depth': 15, 'min_child_samples': 30}
2025-07-17 06:13:46 | Trial 19 | RMSE: 0.17596 | Params: {'learning_rate': 0.03802130919234114, 'feature_fraction': 0.9057283344366528, 'bagging_fraction': 0.780538890163593, 'bagging_freq': 1, 'num_leaves': 86, 'max_depth': 14, 'min_child_samples': 28}
2025-07-17 06:17:04 | Trial 20 | RMSE: 0.17627 | Params: {'learning_rate': 0.038226252493473716, 'feature_fraction': 0.9019214671197531, 'bagging_fraction': 0.7825740464061066, 'bagging_freq': 1, 'num_leaves': 86, 'max_depth': 15, 'min_child_samples': 18}
2025-07-17 06:19:54 | Trial 21 | RMSE: 0.17735 | Params: {'learning_rate': 0.032780053578336084, 'feature_fraction': 0.9505590952241774, 'bagging_fraction': 0.7748112268925925, 'bagging_freq': 1, 'num_leaves': 74, 'max_depth': 14, 'min_child_samples': 29}
2025-07-17 06:23:10 | Trial 22 | RMSE: 0.17658 | Params: {'learning_rate': 0.038990664615953345, 'feature_fraction': 0.9079024158544442, 'bagging_fraction': 0.8279839342864885, 'bagging_freq': 2, 'num_leaves': 83, 'max_depth': 19, 'min_child_samples': 28}
2025-07-17 06:26:18 | Trial 23 | RMSE: 0.17416 | Params: {'learning_rate': 0.045160821351417225, 'feature_fraction': 0.958940302182431, 'bagging_fraction': 0.7722966651537502, 'bagging_freq': 1, 'num_leaves': 70, 'max_depth': 14, 'min_child_samples': 38}
2025-07-17 06:29:39 | Trial 24 | RMSE: 0.17614 | Params: {'learning_rate': 0.044534126169662944, 'feature_fraction': 0.8359678851775806, 'bagging_fraction': 0.8043063994179301, 'bagging_freq': 1, 'num_leaves': 89, 'max_depth': 14, 'min_child_samples': 39}
2025-07-17 06:32:58 | Trial 25 | RMSE: 0.17563 | Params: {'learning_rate': 0.04112429765477328, 'feature_fraction': 0.8949170966728813, 'bagging_fraction': 0.8638248955378434, 'bagging_freq': 1, 'num_leaves': 73, 'max_depth': 15, 'min_child_samples': 21}
2025-07-17 06:35:57 | Trial 26 | RMSE: 0.17672 | Params: {'learning_rate': 0.04019134398715665, 'feature_fraction': 0.9325930184212461, 'bagging_fraction': 0.878848456024771, 'bagging_freq': 2, 'num_leaves': 72, 'max_depth': 16, 'min_child_samples': 14}
2025-07-17 06:39:14 | Trial 27 | RMSE: 0.17618 | Params: {'learning_rate': 0.03101746227069807, 'feature_fraction': 0.9514138009711656, 'bagging_fraction': 0.8571437700675647, 'bagging_freq': 1, 'num_leaves': 79, 'max_depth': 18, 'min_child_samples': 22}
2025-07-17 06:42:24 | Trial 28 | RMSE: 0.17510 | Params: {'learning_rate': 0.045579811412554294, 'feature_fraction': 0.8912032386112261, 'bagging_fraction': 0.8331316002474324, 'bagging_freq': 2, 'num_leaves': 71, 'max_depth': 12, 'min_child_samples': 17}
2025-07-17 06:44:17 | Trial 29 | RMSE: 0.18301 | Params: {'learning_rate': 0.04603551925936646, 'feature_fraction': 0.8082653423046148, 'bagging_fraction': 0.8363652586248993, 'bagging_freq': 2, 'num_leaves': 57, 'max_depth': 12, 'min_child_samples': 17}
2025-07-17 06:44:17 | >> Optuna 최적화 완료. 총 30번의 trial 실행.
2025-07-17 06:44:17 | >> 최적 RMSE: 0.17416
2025-07-17 06:44:17 | >> 최적 하이퍼파라미터: {'learning_rate': 0.045160821351417225, 'feature_fraction': 0.958940302182431, 'bagging_fraction': 0.7722966651537502, 'bagging_freq': 1, 'num_leaves': 70, 'max_depth': 14, 'min_child_samples': 38}
2025-07-17 06:44:17 | >> 최적 파라미터를 '../../data/processed/params/best_params_7.json'에 저장했습니다.
2025-07-17 06:44:17 | >> [5단계 완료] 하이퍼파라미터 최적화 성공.
2025-07-17 06:44:17 | >> [6단계 시작] 최종 모델 학습 및 예측을 시작합니다. (CV 폴드 수: 10)
2025-07-17 06:44:17 | >> 최종 학습 파라미터 (미세 조정 적용 및 GPU 적용): {'learning_rate': 0.03612865708113378, 'feature_fraction': 0.958940302182431, 'bagging_fraction': 0.7722966651537502, 'bagging_freq': 1, 'num_leaves': 70, 'max_depth': 14, 'min_child_samples': 38, 'n_estimators': 3000, 'device': 'cuda', 'objective': 'regression_l1', 'metric': 'rmse', 'verbose': -1, 'n_jobs': -1, 'seed': 42}
2025-07-17 06:44:17 | --- Fold 1/10 학습 시작 ---
2025-07-17 06:44:17 | - Train Index: 0 ~ 100920 (size: 100921)
2025-07-17 06:44:17 | - Validation Index: 100921 ~ 201838 (size: 100918)
2025-07-17 06:47:03 | - Fold 1 RMSE: 0.21984
2025-07-17 06:47:03 | - Best Iteration: 2952
2025-07-17 06:47:03 | --- Fold 2/10 학습 시작 ---
2025-07-17 06:47:03 | - Train Index: 0 ~ 201838 (size: 201839)
2025-07-17 06:47:03 | - Validation Index: 201839 ~ 302756 (size: 100918)
2025-07-17 06:50:00 | - Fold 2 RMSE: 0.30392
2025-07-17 06:50:00 | - Best Iteration: 2999
2025-07-17 06:50:00 | --- Fold 3/10 학습 시작 ---
2025-07-17 06:50:00 | - Train Index: 0 ~ 302756 (size: 302757)
2025-07-17 06:50:00 | - Validation Index: 302757 ~ 403674 (size: 100918)
2025-07-17 06:52:58 | - Fold 3 RMSE: 0.14113
2025-07-17 06:52:58 | - Best Iteration: 3000
2025-07-17 06:52:58 | --- Fold 4/10 학습 시작 ---
2025-07-17 06:52:58 | - Train Index: 0 ~ 403674 (size: 403675)
2025-07-17 06:52:58 | - Validation Index: 403675 ~ 504592 (size: 100918)
2025-07-17 06:56:15 | - Fold 4 RMSE: 0.09932
2025-07-17 06:56:15 | - Best Iteration: 2997
2025-07-17 06:56:15 | --- Fold 5/10 학습 시작 ---
2025-07-17 06:56:15 | - Train Index: 0 ~ 504592 (size: 504593)
2025-07-17 06:56:15 | - Validation Index: 504593 ~ 605510 (size: 100918)
2025-07-17 06:59:51 | - Fold 5 RMSE: 0.09515
2025-07-17 06:59:51 | - Best Iteration: 3000
2025-07-17 06:59:51 | --- Fold 6/10 학습 시작 ---
2025-07-17 06:59:51 | - Train Index: 0 ~ 605510 (size: 605511)
2025-07-17 06:59:51 | - Validation Index: 605511 ~ 706428 (size: 100918)
2025-07-17 07:03:45 | - Fold 6 RMSE: 0.09147
2025-07-17 07:03:45 | - Best Iteration: 3000
2025-07-17 07:03:45 | --- Fold 7/10 학습 시작 ---
2025-07-17 07:03:45 | - Train Index: 0 ~ 706428 (size: 706429)
2025-07-17 07:03:45 | - Validation Index: 706429 ~ 807346 (size: 100918)
2025-07-17 07:07:59 | - Fold 7 RMSE: 0.07938
2025-07-17 07:07:59 | - Best Iteration: 3000
2025-07-17 07:07:59 | --- Fold 8/10 학습 시작 ---
2025-07-17 07:08:00 | - Train Index: 0 ~ 807346 (size: 807347)
2025-07-17 07:08:00 | - Validation Index: 807347 ~ 908264 (size: 100918)
2025-07-17 07:12:35 | - Fold 8 RMSE: 0.08807
2025-07-17 07:12:35 | - Best Iteration: 3000
2025-07-17 07:12:35 | --- Fold 9/10 학습 시작 ---
2025-07-17 07:12:35 | - Train Index: 0 ~ 908264 (size: 908265)
2025-07-17 07:12:35 | - Validation Index: 908265 ~ 1009182 (size: 100918)
2025-07-17 07:17:31 | - Fold 9 RMSE: 0.11765
2025-07-17 07:17:31 | - Best Iteration: 3000
2025-07-17 07:17:31 | --- Fold 10/10 학습 시작 ---
2025-07-17 07:17:31 | - Train Index: 0 ~ 1009182 (size: 1009183)
2025-07-17 07:17:31 | - Validation Index: 1009183 ~ 1110100 (size: 100918)
2025-07-17 07:22:49 | - Fold 10 RMSE: 0.19448
2025-07-17 07:22:49 | - Best Iteration: 3000
2025-07-17 07:22:49 | >> CV 학습 결과 요약:
2025-07-17 07:22:49 | - 각 Fold별 RMSE: [0.21984, 0.30392, 0.14113, 0.09932, 0.09515, 0.09147, 0.07938, 0.08807, 0.11765, 0.19448]
2025-07-17 07:22:49 | - 평균 Fold RMSE: 0.14304 (±0.07001)
2025-07-17 07:22:49 | - 전체 OOF RMSE: 0.15925
2025-07-17 07:22:49 | >> [6단계 완료] 최종 모델 학습 성공.
2025-07-17 07:22:49 | >> [7단계 시작] 제출 파일 생성 및 모델 저장을 시작합니다.
2025-07-17 07:22:49 | >> 제출 파일 '../../data/processed/submissions/price_prediction_7_submission_20250717_052227.csv' 생성이 완료되었습니다.
2025-07-17 07:22:49 | >> 제출 파일 미리보기 (상위 5개):
2025-07-17 07:22:49 | target
0  189457.518131
1  330758.475358
2  311553.943753
3  266603.776812
4  221050.682952
2025-07-17 07:22:49 | >> Fold 1 모델이 '../../model/price_prediction_7_model_fold1.pkl'에 저장되었습니다.
2025-07-17 07:22:49 | >> Fold 2 모델이 '../../model/price_prediction_7_model_fold2.pkl'에 저장되었습니다.
2025-07-17 07:22:50 | >> Fold 3 모델이 '../../model/price_prediction_7_model_fold3.pkl'에 저장되었습니다.
2025-07-17 07:22:50 | >> Fold 4 모델이 '../../model/price_prediction_7_model_fold4.pkl'에 저장되었습니다.
2025-07-17 07:22:50 | >> Fold 5 모델이 '../../model/price_prediction_7_model_fold5.pkl'에 저장되었습니다.
2025-07-17 07:22:50 | >> Fold 6 모델이 '../../model/price_prediction_7_model_fold6.pkl'에 저장되었습니다.
2025-07-17 07:22:50 | >> Fold 7 모델이 '../../model/price_prediction_7_model_fold7.pkl'에 저장되었습니다.
2025-07-17 07:22:50 | >> Fold 8 모델이 '../../model/price_prediction_7_model_fold8.pkl'에 저장되었습니다.
2025-07-17 07:22:50 | >> Fold 9 모델이 '../../model/price_prediction_7_model_fold9.pkl'에 저장되었습니다.
2025-07-17 07:22:50 | >> Fold 10 모델이 '../../model/price_prediction_7_model_fold10.pkl'에 저장되었습니다.
2025-07-17 07:22:50 | >> [7단계 완료] 제출 파일 및 모델 저장 성공.
2025-07-17 07:22:50 | ============================================================
2025-07-17 07:22:50 | 🎉 모든 프로세스가 성공적으로 종료되었습니다.
2025-07-17 07:22:50 | ============================================================
